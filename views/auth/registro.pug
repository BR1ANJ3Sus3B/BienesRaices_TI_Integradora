extends ../layout/index

block contenido
   
    div.py-10(style="background: url('https://i.pinimg.com/originals/90/70/32/9070324cdfc07c68d60eed0c39e77573.gif') no-repeat center center / cover; min-height: 100vh; display: flex; justify-content: center; align-items: center;")  
        div.w-full.max-w-md.bg-white.bg-opacity-90.py-10.px-8.shadow-lg.rounded-lg  
            h1.text-4xl.mb-6.font-extrabold.text-center.text-indigo Bienes 
                span.font-normal.text-indigo-600 Raíces  
            h2.text-center.text-2xl.font-extrabold= pagina
        if errores
            div(class="max-w-md mx-auto my-10")
                each error in errores
                    div(class="bg-red text-white p-4 rounded-md flex items-center justify-between mb-2 alert fade-in")
                        // Iconos según tipo de error
                        if error.msg == "El nombre no puede ir vacío"
                            i(class="fas fa-user-times mr-2")  
                        else if error.msg == "El correo electrónico es un campo obligatorio"
                            i(class="fas fa-envelope-open-text mr-2")  
                        else if error.msg == "El correo electrónico no tiene el formato correcto"
                            i(class="fas fa-exclamation-triangle mr-2")
                        else if error.msg == "La contraseña es un campo obligatorio"
                            i(class="fas fa-key mr-2")  
                        else if error.msg == "El Password debe ser de al menos 8 caracteres"
                            i(class="fas fa-lock mr-2")
                        else if error.msg == "La contraseña debe coincidir con la anterior"
                            i(class="fas fa-lock mr-2")  
                        else if error.msg == "La fecha de nacimiento es obligatoria"
                            i(class="fas fa-calendar-alt mr-2")
                        else if error.msg == "Debes ser mayor de 18 años para registrarte"
                            i(class="fas fa-exclamation-circle mr-2")
                        p(class="text-sm font-bold")= error.msg
                        button(class="ml-2 bg-transparent border-0 text-white" onclick="this.parentElement.style.display='none'") &times;

        .mt-8.mx-auto.max-w-md 
            .bg-white.bg-opacity-90.py-8.px-4.shadow-lg.rounded-lg  
                form.space-y-5(method="POST" action="/auth/registro" novalidate)
                    input(type="hidden" name="_csrf" value= csrfToken) 
                    
                    // Campo nombre
                    div
                        label.block.text-sm.uppercase.text-gray-500.mb-3.font-bold(for="nombre") Tu Nombre
                        input#nombre.w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400(placeholder="Escribe tu nombre" type="text" name="nombre" value= usuario ? usuario.nombre : '')
                    div
                        label.block.text-sm.uppercase.text-black.mb-2.font-bold Alias: 
                        input#alias.w-full.px-3.py-2.border-2.border-black.rounded-md(type="text" placeholder="Ej. juanperez123" name="alias" value=(usuario && usuario.alias ? usuario.alias : ""))

                    // Campo email
                    div
                        label.block.text-sm.uppercase.text-gray-500.mb-3.font-bold(for="email") Email de Registro
                        input#email.w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400(placeholder="Escribe tu email" type="email" name="email" value= usuario ? usuario.email : '' ) 
                    div
                        label.block.text-sm.uppercase.text-black.mb-2.font-bold Fecha de Nacimiento: 
                        input#birthdate.w-full.px-3.py-2.border-2.border-black.rounded-md(type="date" name="fecha_nacimiento" value=(usuario && usuario.fecha_nacimiento ? usuario.fecha_nacimiento : ""))

                    // Campo contraseña
                    div
                        label.block.text-sm.uppercase.text-gray-500.mb-3.font-bold(for="password") Contraseña
                        input#password.w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400(placeholder="Escribe tu contraseña" type="password" name="password" )        

                    // Campo repetir contraseña
                    div
                        label.block.text-sm.uppercase.text-gray-500.mb-3.font-bold(for="repetir_password") Repetir Contraseña
                        input#repetir_password.w-full.px-3.py-2.border.border-gray-300.rounded-md.placeholder-gray-400(placeholder="Repite tu contraseña" type="password" name="repetir_password")         

                    // Enlaces de ayuda
                    div.flex.items-center.justify-between
                        a.text-gray-500.text-xs.mr-2(href="/auth/login" class="hover:underline decoration2 hover:decoration-navy") ¿Ya tienes cuenta? Inicia Sesión
                        a.text-gray-500.text-xs.ml-2(href="/auth/olvide-password" class="hover:underline decoration2 hover:decoration-navy") Olvidé mi Password


                    // Botón de registro con fondo GIF
                    input(
                        type="submit" 
                        value="Crear Cuenta"
                        class="w-full text-white font-bold py-3 rounded-lg cursor-pointer bg-cover bg-center transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none"
                        style="background: url('https://i.pinimg.com/originals/39/fb/da/39fbda8ae27c15d8ebc9ad6ff034d633.gif') no-repeat center center / cover;"
                    )
